<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>浅析AFNetworking（一） | 来自遥远星系的技术空间站</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.1.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.2/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/2.2.3/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">浅析AFNetworking（一）</h1><a id="logo" href="/.">来自遥远星系的技术空间站</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 博客</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/comment/"><i class="fa fa-comments"> 留言</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">浅析AFNetworking（一）</h1><div class="post-meta">Jul 19, 2016<span> | </span><span class="category"><a href="/categories/iOS/">iOS</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/07/19/AFNetworking/" href="/2016/07/19/AFNetworking/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><p><img src="https://camo.githubusercontent.com/1560be050811ab73457e90aee62cd1cd257c7fb9/68747470733a2f2f7261772e6769746875622e636f6d2f41464e6574776f726b696e672f41464e6574776f726b696e672f6173736574732f61666e6574776f726b696e672d6c6f676f2e706e67" alt="AFNetworking"></p>
<blockquote>
<p>Perhaps the most important feature of all, however, is the amazing community of developers who use and contribute to AFNetworking every day. AFNetworking powers some of the most popular and critically-acclaimed apps on the iPhone, iPad, and Mac.</p>
</blockquote>
<p>随着4G网络的普及，手机移动数据的加速，AFNetworking 可以说是如今 iOS 开发中不可缺少的组件之一。</p>
<p>在这里主要了解两个问题：</p>
<ul>
<li><p>如何使用 NSURLSession 发出 HTTP 请求</p>
</li>
<li><p>如何使用 AFNetworking 发出 HTTP 请求</p>
</li>
</ul>
<h1 id="NSURLSession"><a href="#NSURLSession" class="headerlink" title="NSURLSession"></a>NSURLSession</h1><p>NSURLSession 以及与它相关的类为我们提供了下载内容的 API，这个 API 提供了一系列的代理方法来支持身份认证，并且支持后台下载。</p>
<p>使用 NSURLSession 来进行 HTTP 请求并且获得数据总共有五个步骤：</p>
<ol>
<li><p>实例化一个 <code>NSURLRequest/NSMutableURLRequest</code>，设置 URL</p>
</li>
<li><p>通过 - <code>sharedSession:</code> 方法获取 NSURLSession</p>
</li>
<li><p>在 session 上调用 - <code>dataTaskWithRequest:completionHandler:</code>方法返回一个 NSURLSessionDataTask</p>
</li>
<li><p>向 data task 发送消息 - resume，开始执行这个任务</p>
</li>
<li><p>在<code>completionHandler</code> 中将数据编码，返回字符串。</p>
</li>
</ol>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://dbcxl.com/2016/07/19/AFNetworking/" data-id="cit1fmi6d00007dimcix1z4qk" class="article-share-link">分享到</a><div class="tags"><a href="/tags/AFNetworking/">AFNetworking</a></div><div class="post-nav"><a href="/2016/09/08/Properties/" class="pre">属性(Properties)</a><a href="/2016/07/09/Saving_and_Loading/" class="next">保存、读取数据</a></div><div id="disqus_thread"><script>var disqus_shortname = 'dbcxl';
var disqus_identifier = '2016/07/19/AFNetworking/';
var disqus_title = '浅析AFNetworking（一）';
var disqus_url = 'http://dbcxl.com/2016/07/19/AFNetworking/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//dbcxl.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://dbcxl.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/">计算机基础</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/消息传递/" style="font-size: 15px;">消息传递</a> <a href="/tags/AFNetworking/" style="font-size: 15px;">AFNetworking</a> <a href="/tags/Foundation框架/" style="font-size: 15px;">Foundation框架</a> <a href="/tags/动画/" style="font-size: 15px;">动画</a> <a href="/tags/计算机网络/" style="font-size: 15px;">计算机网络</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/面向对象/" style="font-size: 15px;">面向对象</a> <a href="/tags/LAMP/" style="font-size: 15px;">LAMP</a> <a href="/tags/文件I-O/" style="font-size: 15px;">文件I/O</a> <a href="/tags/UI控件/" style="font-size: 15px;">UI控件</a> <a href="/tags/pug/" style="font-size: 15px;">pug</a> <a href="/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/tags/BugFix/" style="font-size: 15px;">BugFix</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/22/BugFix/">【Debug】Undefined symbols for architecture x86_64等的完整解决方案</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/12/pugAndSass/">pug和sass的使用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/08/Properties/">属性(Properties)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/19/AFNetworking/">浅析AFNetworking（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/09/Saving_and_Loading/">保存、读取数据</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/03/NSNotificationCenter/">NSNotificationCenter (通知中心)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/24/Animations/">动画(Animation)学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/21/UITextField/">文本输入 (UITextField)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/19/drawRect/">在视图上面自定义绘图</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/06/12/View/">视图与其层次结构</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//dbcxl.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://llissery.net/" title="llissery的博客" target="_blank">llissery的博客</a><ul></ul><a href="http://hyuni.cn/" title="hyuni的博客" target="_blank">hyuni的博客</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a rel="nofollow" target="_blank" href="https://github.com/KnightJoker">KnightJoker.</a>Touching my heart.</div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>